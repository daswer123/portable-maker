# Создатель Портативных Проектов на Python

![English](https://img.shields.io/badge/Language-English-blue.svg)
[![Russian](https://img.shields.io/badge/Language-Russian-red.svg)](README_RU.md)

## Изменения (Changelog)

Все обновления и изменения можно найти в разделе [Релизы](https://github.com/daswer123/portable-maker/releases).

## О проекте ( About )

Этот инструмент позволяет создавать портативные сборки Python, которые можно легко распространять в виде архивов. Он упрощает процесс настройки и обмена проектами на Python с минимальной конфигурацией.

## Демонстрация (Demo)

Посмотрите [Demo](Demo.MD) или [Demo_RU.MD](Demo_RU.MD) для пошагового руководства по созданию портативного окружения на основе проекта `stable-diffusion-webui-amdgpu`.

## Начало работы

1. Скачайте Создатель Портативных Проектов на Python:
   - Скачайте последнюю версию из раздела [Релизы](https://github.com/daswer123/portable-maker/releases).

2. Извлеките скачанный архив в нужное место.

3. Скопируйте файлы вашего проекта в папку `your-project` в извлечённой структуре.

## Структура проекта

```
project-root/
│
├── system/
│   ├── python/
│   ├── git/
│   ├── ffmpeg/
│   ├── ssh/
│   └── user/
│
├── your-project/
│
├── tmp/
│
├── activate.bat
├── clone.bat
├── env.bat
├── run.bat
├── update.bat
```

## Конфигурация

1. **Настройка `env.bat`:**
   Измените следующие переменные:
   - `APP_FOLDER`: Название папки вашего проекта.
   - `REPO_URL`: URL вашего репозитория Git.
   - `RESET_WHEN_UPDATE`: Установите в "true", чтобы сбросить изменения при обновлении.
   - `PRIVATE_REPO`: Установите в "true" для работы с приватными репозиториями.
   - `GITHUB_SSH_PATH`: Путь к вашему SSH-ключу (по умолчанию `id_ed`, измените, если другой).
   - `CLEAR_TEMP_EVERY_RUN`: Установите в "true", чтобы очищать временные файлы перед каждым запуском (по умолчанию).

2. **Для приватных репозиториев:**
   - Создайте папку `system/ssh`, если она не существует.
   - Добавьте ваш SSH-ключ в `system/ssh`.
   - Убедитесь, что `PRIVATE_REPO=true` в `env.bat`.
   - Обновите `REPO_URL` в `env.bat`, чтобы использовать SSH-URL.

3. **Запустите `activate.bat`**, чтобы настроить окружение Python.

4. **Установите зависимости:**
   В активированном окружении выполните:
   ```
   pip install -r requirements.txt
   ```
   **Примечание:** Всегда используйте `python -m pip`, а не `pip`.

   **Обновление:** В последней версии вы можете использовать стандартный `pip`. Скачать обновление можно на GitHub.

5. **Настройка `run.bat`:**
   Укажите ваш основной Python файл и любые аргументы командной строки.

6. **Тестирование настройки:**
   Запустите ваш проект с помощью `run.bat`.

7. **Подготовка к распространению:**
   - Удалите файлы `activate.bat` и `clone.bat`.
   - Сожмите всю папку в архив.

## Дополнительная информация

- Этот проект использует портативную установку Python вместо традиционного `venv`.
- Чтобы изменить версию Python, обратитесь к файлу `system/README.md`.
- В проект включена портативная установка Git для управления версиями.
- Вы можете настроить `env.bat`, добавив дополнительные переменные по мере необходимости.
- **Если вы поняли, что запороли своё окружение, вы можете зайти в папку `system` и переустановить Python с помощью файла `reinstall_python.bat`. Это очистит ваше окружение.**

Этот полуавтоматизированный набор позволяет быстро развернуть портативные окружения Python, обеспечивая гибкость для конфигураций, специфичных для проекта.